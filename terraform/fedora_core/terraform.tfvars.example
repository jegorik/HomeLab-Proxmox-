# ==============================================================================
# Fedora CoreOS VM - Example Variables (terraform.tfvars.example)
# ==============================================================================
#
# Copy this file to terraform.tfvars and fill in your values.
# NEVER commit terraform.tfvars with real credentials to version control!
#
# Single-Stage Cloud-Init Deployment:
#   1. Setup storage (one-time): ssh root@proxmox < ../../scripts/bash/setup/proxmox_fcos_storage_setup.sh
#   2. tofu apply              → Creates VM with Ignition applied automatically
#   3. ssh core@<vm_ip>        → Access VM
#
# ==============================================================================

# ==============================================================================
# PROXMOX CONNECTION (REQUIRED)
# ==============================================================================

# Proxmox API URL
proxmox_api_url = "https://192.168.0.204:8006"

# Proxmox API token
# Create: Datacenter → Permissions → API Tokens → Add
proxmox_api_token = "terraform@pam!terraform=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"

# Proxmox host IP/hostname (for SCP uploads)
proxmox_host = "192.168.0.204"

# SSH private key for Proxmox host access (for Ignition upload)
# Can be file path or key content
proxmox_ssh_private_key = file("~/.ssh/ansible_proxmox")
# Or: proxmox_ssh_private_key = "-----BEGIN OPENSSH PRIVATE KEY-----\n..."

# Proxmox node name
proxmox_node = "pve"

# Skip TLS certificate verification
proxmox_insecure = true

# ==============================================================================
# VM IDENTIFICATION
# ==============================================================================

# VM ID (null for auto-assignment)
vm_id = 118

# VM name and hostname
vm_name = "fcos-test"

# VM description
vm_description = "Fedora CoreOS test VM"

# VM tags (lowercase, no spaces)
vm_tags = ["fcos", "container", "test"]

# ==============================================================================
# FEDORA COREOS VERSION
# ==============================================================================

# FCOS stream (stable, testing, next)
fcos_stream = "stable"

# FCOS version (check https://fedoraproject.org/coreos/download/)
fcos_version = "43.20251110.3.1"

# Coreos storage name (created by setup script)
coreos_storage = "coreos"

# ==============================================================================
# VM HARDWARE
# ==============================================================================

# CPU
vm_cpu_cores   = 2
vm_cpu_sockets = 1
vm_cpu_type    = "host"

# Memory (MB)
vm_memory         = 4096
vm_balloon_memory = 2048

# Disk
vm_disk_size   = "20G"
vm_storage_pool = "local-lvm"

# ==============================================================================
# NETWORK
# ==============================================================================

# Static IP (recommended)
vm_ip_address  = "192.168.0.118/24"
vm_gateway     = "192.168.0.1"
vm_dns_servers = ["192.168.0.1", "8.8.8.8"]

# Or DHCP (leave empty)
# vm_ip_address = ""

# Network settings
vm_network_bridge = "vmbr0"
vm_network_vlan   = 0

# ==============================================================================
# SSH ACCESS
# ==============================================================================

# SSH user (default: core)
ssh_user = "core"

# SSH public key (required)
ssh_public_key = "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIExamplePublicKey user@host"

# Additional SSH keys (optional)
# ssh_public_keys_additional = [
#   "ssh-ed25519 AAAAC3... user2@host",
#   "ssh-rsa AAAAB3... user3@host"
# ]

# ==============================================================================
# VM BEHAVIOR
# ==============================================================================

# Auto-start VM after creation
vm_started = true

# Auto-start VM on Proxmox boot
vm_on_boot = true

# Protection from accidental deletion
vm_protection = false

# ==============================================================================
# FEATURES
# ==============================================================================

# QEMU Guest Agent (recommended)
enable_qemu_guest_agent = true

# Timezone
timezone = "UTC"
